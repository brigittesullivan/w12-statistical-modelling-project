<!DOCTYPE html>
<html>
<head>
<title>README.md</title>
<meta http-equiv="Content-type" content="text/html;charset=UTF-8">

<style>
/* https://github.com/microsoft/vscode/blob/master/extensions/markdown-language-features/media/markdown.css */
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

body {
	font-family: var(--vscode-markdown-font-family, -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif);
	font-size: var(--vscode-markdown-font-size, 14px);
	padding: 0 26px;
	line-height: var(--vscode-markdown-line-height, 22px);
	word-wrap: break-word;
}

#code-csp-warning {
	position: fixed;
	top: 0;
	right: 0;
	color: white;
	margin: 16px;
	text-align: center;
	font-size: 12px;
	font-family: sans-serif;
	background-color:#444444;
	cursor: pointer;
	padding: 6px;
	box-shadow: 1px 1px 1px rgba(0,0,0,.25);
}

#code-csp-warning:hover {
	text-decoration: none;
	background-color:#007acc;
	box-shadow: 2px 2px 2px rgba(0,0,0,.25);
}

body.scrollBeyondLastLine {
	margin-bottom: calc(100vh - 22px);
}

body.showEditorSelection .code-line {
	position: relative;
}

body.showEditorSelection .code-active-line:before,
body.showEditorSelection .code-line:hover:before {
	content: "";
	display: block;
	position: absolute;
	top: 0;
	left: -12px;
	height: 100%;
}

body.showEditorSelection li.code-active-line:before,
body.showEditorSelection li.code-line:hover:before {
	left: -30px;
}

.vscode-light.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(0, 0, 0, 0.15);
}

.vscode-light.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(0, 0, 0, 0.40);
}

.vscode-light.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-dark.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 255, 255, 0.4);
}

.vscode-dark.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 255, 255, 0.60);
}

.vscode-dark.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-high-contrast.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 160, 0, 0.7);
}

.vscode-high-contrast.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 160, 0, 1);
}

.vscode-high-contrast.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

img {
	max-width: 100%;
	max-height: 100%;
}

a {
	text-decoration: none;
}

a:hover {
	text-decoration: underline;
}

a:focus,
input:focus,
select:focus,
textarea:focus {
	outline: 1px solid -webkit-focus-ring-color;
	outline-offset: -1px;
}

hr {
	border: 0;
	height: 2px;
	border-bottom: 2px solid;
}

h1 {
	padding-bottom: 0.3em;
	line-height: 1.2;
	border-bottom-width: 1px;
	border-bottom-style: solid;
}

h1, h2, h3 {
	font-weight: normal;
}

table {
	border-collapse: collapse;
}

table > thead > tr > th {
	text-align: left;
	border-bottom: 1px solid;
}

table > thead > tr > th,
table > thead > tr > td,
table > tbody > tr > th,
table > tbody > tr > td {
	padding: 5px 10px;
}

table > tbody > tr + tr > td {
	border-top: 1px solid;
}

blockquote {
	margin: 0 7px 0 5px;
	padding: 0 16px 0 10px;
	border-left-width: 5px;
	border-left-style: solid;
}

code {
	font-family: Menlo, Monaco, Consolas, "Droid Sans Mono", "Courier New", monospace, "Droid Sans Fallback";
	font-size: 1em;
	line-height: 1.357em;
}

body.wordWrap pre {
	white-space: pre-wrap;
}

pre:not(.hljs),
pre.hljs code > div {
	padding: 16px;
	border-radius: 3px;
	overflow: auto;
}

pre code {
	color: var(--vscode-editor-foreground);
	tab-size: 4;
}

/** Theming */

.vscode-light pre {
	background-color: rgba(220, 220, 220, 0.4);
}

.vscode-dark pre {
	background-color: rgba(10, 10, 10, 0.4);
}

.vscode-high-contrast pre {
	background-color: rgb(0, 0, 0);
}

.vscode-high-contrast h1 {
	border-color: rgb(0, 0, 0);
}

.vscode-light table > thead > tr > th {
	border-color: rgba(0, 0, 0, 0.69);
}

.vscode-dark table > thead > tr > th {
	border-color: rgba(255, 255, 255, 0.69);
}

.vscode-light h1,
.vscode-light hr,
.vscode-light table > tbody > tr + tr > td {
	border-color: rgba(0, 0, 0, 0.18);
}

.vscode-dark h1,
.vscode-dark hr,
.vscode-dark table > tbody > tr + tr > td {
	border-color: rgba(255, 255, 255, 0.18);
}

</style>

<style>
/* Tomorrow Theme */
/* http://jmblog.github.com/color-themes-for-google-code-highlightjs */
/* Original theme - https://github.com/chriskempson/tomorrow-theme */

/* Tomorrow Comment */
.hljs-comment,
.hljs-quote {
	color: #8e908c;
}

/* Tomorrow Red */
.hljs-variable,
.hljs-template-variable,
.hljs-tag,
.hljs-name,
.hljs-selector-id,
.hljs-selector-class,
.hljs-regexp,
.hljs-deletion {
	color: #c82829;
}

/* Tomorrow Orange */
.hljs-number,
.hljs-built_in,
.hljs-builtin-name,
.hljs-literal,
.hljs-type,
.hljs-params,
.hljs-meta,
.hljs-link {
	color: #f5871f;
}

/* Tomorrow Yellow */
.hljs-attribute {
	color: #eab700;
}

/* Tomorrow Green */
.hljs-string,
.hljs-symbol,
.hljs-bullet,
.hljs-addition {
	color: #718c00;
}

/* Tomorrow Blue */
.hljs-title,
.hljs-section {
	color: #4271ae;
}

/* Tomorrow Purple */
.hljs-keyword,
.hljs-selector-tag {
	color: #8959a8;
}

.hljs {
	display: block;
	overflow-x: auto;
	color: #4d4d4c;
	padding: 0.5em;
}

.hljs-emphasis {
	font-style: italic;
}

.hljs-strong {
	font-weight: bold;
}
</style>

<style>
/*
 * Markdown PDF CSS
 */

 body {
	font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif, "Meiryo";
	padding: 0 12px;
}

pre {
	background-color: #f8f8f8;
	border: 1px solid #cccccc;
	border-radius: 3px;
	overflow-x: auto;
	white-space: pre-wrap;
	overflow-wrap: break-word;
}

pre:not(.hljs) {
	padding: 23px;
	line-height: 19px;
}

blockquote {
	background: rgba(127, 127, 127, 0.1);
	border-color: rgba(0, 122, 204, 0.5);
}

.emoji {
	height: 1.4em;
}

code {
	font-size: 14px;
	line-height: 19px;
}

/* for inline code */
:not(pre):not(.hljs) > code {
	color: #C9AE75; /* Change the old color so it seems less like an error */
	font-size: inherit;
}

/* Page Break : use <div class="page"/> to insert page break
-------------------------------------------------------- */
.page {
	page-break-after: always;
}

</style>

<script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
</head>
<body>
  <script>
    mermaid.initialize({
      startOnLoad: true,
      theme: document.body.classList.contains('vscode-dark') || document.body.classList.contains('vscode-high-contrast')
          ? 'dark'
          : 'default'
    });
  </script>
<h1 id="final-project-statistical-modelling-with-python">Final-Project-Statistical-Modelling-with-Python</h1>
<p>By : Brigitte Sullivan
Submitted on: Friday, September 1st 2023
Lighthouse Labs Data Science Program</p>
<h2 id="projectgoals">Project/Goals</h2>
<p>Project description and goals:</p>
<ul>
<li>Perform Statistical Modelling to determine the relationship between the prevalance of &quot;green spaces&quot; / outdoor spaces and city bike stations in Montréal. Specifically, the relationship between number of city bike slots and the top 10 most common outdoor spaces within 1km of city bike stations.</li>
<li>chose Montréal because of its ample outdoor spaces and &quot;picnic&quot;-culture</li>
<li>There was no explicit mention that free bikes is the required independent variable in compass content and felt that number of slots represented overall supply/demand of bikes better than a point in time number of free bikes.</li>
</ul>
<h5 id="null-hypothesis"><strong>Null hypothesis:</strong></h5>
<p>there is no relationship between the number bike slots and the number of outdoor POI's</p>
<h5 id="alternative-hypothesis"><strong>Alternative hypothesis:</strong></h5>
<p>there is a relationship between number of bike slots and number of outdoor POI's</p>
<h2 id="process">Process</h2>
<p>The steps taken to complete this project were:</p>
<h3 id="1-extract-data-from-city-bikes-and-foursquare-part-1--2">1. Extract Data from city bikes and foursquare (Part 1 &amp; 2)</h3>
<ul>
<li>used api get request to gather the data.</li>
<li>gathered locations for all city bikes stations in montreal, used these station locations to use as the center of the radius search for the foursquare request</li>
<li>focused on bringing in as much data from city bikes as possible to have the most options better likelihood of building a model that was good at predicting the target variable (this created a challenge discussed later)</li>
<li>Decided to focus on first gathering data from foursquare and if time, return to extract yelp data.</li>
<li>Chose to focus foursquare data on any POI's that had the parent category of &quot;Landmarks &amp; Outdoors&quot; (e.g., anything with a categoryid in the 16000's). Removed additional categories as a data cleaning step (seemed simpler to do using a dataframe filter than in the API call)</li>
</ul>
<h3 id="2-join-data-sets--and-initial-exploration-part-3">2. Join Data Sets &amp; and initial exploration (Part 3)</h3>
<ul>
<li>joined city bikes data and foursquare data based on station location. City bikes data had one location per station. However the foursquare data could have many POI's for one location (meaning it's possible to have multiple outdoor spaces within 1km of a bike station in Montreal).</li>
<li>performed QA /data validation to ensure the join of two data sets performed as expected. QA done by taking a sample station and examining what the output should be then confirming that the joined data set contained this output.</li>
<li>EDA showed no obvious relationship between any of the possible target variables and possible independent variables</li>
</ul>
<h3 id="3-statistical-modelling">3. Statistical Modelling</h3>
<p><strong>Original approach:</strong> I first attempted simple linear regression on all possible combinations (8) of independent variables:</p>
<ul>
<li>outdoor_space_num</li>
<li>num_parks</li>
</ul>
<p>with target variable:</p>
<ul>
<li>free_bikes</li>
<li>empty_slots</li>
<li>slots</li>
<li>ebikes</li>
</ul>
<p>The highest adjusted r-square value was 0.0055 of all the 8 models I created. Given I had the time, I decided to revise my approach in the hopes that I would find a 'better' model before going back to get yelp data.</p>
<p><strong>Revised approach:</strong> Decided to restructure the data to have the number of outdoor space by type as seperate columns so that there are more options for independent variables, and narrowed the independent variable to number of slots.</p>
<p>The steps taken in the revised approach were:</p>
<ul>
<li>Restructure Data
<ul>
<li>pivot the category name column so that each outdoor space category had a column with a numeric value</li>
</ul>
</li>
<li>Address NaN values
<ul>
<li>pivoting the category name column created many NaN values that needed to be resolved.</li>
</ul>
</li>
<li>Perform multivariate linear regression with backward selection using number of slots as dependent variable and each outdoor space category as independent variables.
<ul>
<li>Target Variable : # slots</li>
<li>Independent Variables:
<ul>
<li>Park</li>
<li>Playground</li>
<li>Monument</li>
<li>Farm</li>
<li>Garden</li>
<li>Dog Park</li>
<li>Campground</li>
<li>Hiking Trail</li>
<li>Landmarks and Outdoors</li>
<li>Historic and Protected Site</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="results">Results</h2>
<p>Here are the results of the statistical modelling performed:</p>
<ul>
<li>The adjusted R-quare value in the final model after performing backward selection was 0.192.</li>
<li>Meaning that about 19.2% of the variance in the dependent variable can be explained by the independent variables. This is generally not considered high adjusted r-square value, meaning the correlation is not strong.</li>
<li>In model output A (the model previous to the final model &quot;B&quot;), Park is technically not statistiscally significant with a pvalue of 0.062 (but very close to 0.05 threshold). When Garden is removed from Model B, the pvalue for Park drops and Park becomes a statistically significant.</li>
<li><strong>Historic and Protected sites</strong> is the outdoor space category that makes the largest contribution to the model with the highest coefficient value, followed by <strong>monuments</strong>. Both categories have a P-value of 0.000 indicating high significance.</li>
<li>Conclusion: There is a relationship between the number of bike slots and the number of these outdoor spaces within 1km of the station (in order of descending significance):
<ul>
<li>Historic and Protected Sites</li>
<li>Monuments</li>
<li>Farms</li>
<li>Parks</li>
</ul>
</li>
<li>although my original thought that parks would be the strongest indicator the model found that there are other outdoor spaces that better predict the number of slots than Parks (like Historic Sites, Monuments, Farms)</li>
</ul>
<h2 id="challenges">Challenges</h2>
<p>The challenges I encountered in this project were:</p>
<ul>
<li>determining the dependent and independent variables too late. I admitedly wanted to pick &quot;the right variables&quot; that would return the &quot;best&quot; model without any information meant I delayed an important decision for perhaps too long. Not having the question fully formed prior to data extraction meant having too many options for dependent variables and to few options for independent varibales.</li>
<li>not finding any &quot;good&quot; models during first iteration of modelling and needing to restructure data.</li>
<li>The first iteration, the two posible independent variables outdoor space num and num parks violated the independence assumption since the num_parks variable was a direct subset of the outdoor space num. This was another reason for why I needed to revise the my approach.</li>
</ul>
<h2 id="future-goals">Future Goals</h2>
<p>(what would you do if you had more time?)</p>
<ul>
<li>Explore the Yelp API data to see if the results are any different</li>
<li>Analyse Landmarks &amp; Outdoors as an entire category</li>
<li>Perform multivariate analysis on all outdoor categories</li>
<li>change the dependent variable to number of free bikes to see if the model outputs improve</li>
</ul>

</body>
</html>
